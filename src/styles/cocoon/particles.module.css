/* Particle System Styles */

.particleCanvas {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 100;
}

/* ==================== SPARKLE PARTICLES ==================== */
.sparkleParticle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(circle,
            rgba(255, 215, 0, 1) 0%,
            rgba(255, 165, 0, 0.6) 50%,
            transparent 100%);
    border-radius: 50%;
    filter: blur(1px);
    animation: sparkle 2s ease-in-out infinite, twinkle 1.5s ease-in-out infinite;
}

.sparkleParticle::before {
    content: '';
    position: absolute;
    inset: -2px;
    background: inherit;
    border-radius: 50%;
    filter: blur(2px);
    opacity: 0.5;
}

/* ==================== MAGIC DUST ==================== */
.magicDustParticle {
    position: absolute;
    width: 3px;
    height: 3px;
    background: var(--particle-color, #DA70D6);
    border-radius: 50%;
    box-shadow: 0 0 4px var(--particle-color, #DA70D6);
    animation: float 3s ease-in-out infinite, fadeInOut 2s ease-in-out infinite;
}

.magicDustGlow {
    composes: magicDustParticle;
    filter: blur(2px);
    opacity: 0.6;
}

/* ==================== TRAIL PARTICLES ==================== */
.trailParticle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle,
            rgba(255, 20, 147, 0.8) 0%,
            rgba(255, 20, 147, 0.4) 50%,
            transparent 100%);
    border-radius: 50%;
    animation: trail 1s ease-out forwards;
}

.trailGradient {
    position: absolute;
    width: 100%;
    height: 4px;
    background: linear-gradient(to right,
            transparent 0%,
            rgba(255, 20, 147, 0.6) 50%,
            transparent 100%);
    filter: blur(2px);
}

/* ==================== FRAGMENT PARTICLES ==================== */
.fragmentParticle {
    position: absolute;
    background: linear-gradient(135deg, #D4A574 0%, #8B7355 100%);
    box-shadow:
        inset 0 -2px 5px rgba(0, 0, 0, 0.3),
        0 2px 8px rgba(0, 0, 0, 0.4);
    animation: fragmentFall 2s ease-in forwards;
}

.fragmentSmall {
    composes: fragmentParticle;
    width: 12px;
    height: 12px;
    border-radius: 30% 70% 70% 30%;
}

.fragmentMedium {
    composes: fragmentParticle;
    width: 20px;
    height: 20px;
    border-radius: 40% 60% 60% 40%;
}

.fragmentLarge {
    composes: fragmentParticle;
    width: 30px;
    height: 30px;
    border-radius: 50% 50% 50% 50%;
}

/* ==================== AURA PARTICLES ==================== */
.auraParticle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(circle,
            rgba(139, 0, 255, 0.8) 0%,
            rgba(139, 0, 255, 0.3) 50%,
            transparent 100%);
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(139, 0, 255, 0.6);
    animation: float 4s ease-in-out infinite;
}

.auraOrbit {
    animation: swirl 10s linear infinite;
    --swirl-radius: 80px;
}

/* ==================== COSMIC DUST ==================== */
.cosmicDustParticle {
    position: absolute;
    background: radial-gradient(circle,
            rgba(255, 255, 255, 1) 0%,
            rgba(255, 255, 255, 0.6) 50%,
            transparent 100%);
    border-radius: 50%;
    animation: twinkle 3s ease-in-out infinite;
}

.cosmicDustSmall {
    composes: cosmicDustParticle;
    width: 2px;
    height: 2px;
}

.cosmicDustMedium {
    composes: cosmicDustParticle;
    width: 3px;
    height: 3px;
}

.cosmicDustLarge {
    composes: cosmicDustParticle;
    width: 4px;
    height: 4px;
}

/* ==================== LIGHT BEAMS ==================== */
.lightBeamParticle {
    position: absolute;
    width: 3px;
    height: 120px;
    background: linear-gradient(to bottom,
            transparent 0%,
            rgba(255, 235, 59, 0.8) 30%,
            rgba(255, 235, 59, 0.6) 70%,
            transparent 100%);
    filter: blur(2px);
    transform-origin: top center;
    animation: lightBeam 2.5s ease-in-out infinite;
}

.lightBeamGlow {
    position: absolute;
    width: 8px;
    height: 120px;
    background: linear-gradient(to bottom,
            transparent 0%,
            rgba(255, 235, 59, 0.3) 30%,
            rgba(255, 235, 59, 0.2) 70%,
            transparent 100%);
    filter: blur(6px);
    transform-origin: top center;
}

/* ==================== ENERGY BURST ==================== */
.energyBurst {
    position: absolute;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: radial-gradient(circle,
            rgba(255, 107, 53, 0.8) 0%,
            rgba(255, 235, 59, 0.4) 50%,
            transparent 100%);
    animation: energyBurst 1s ease-out forwards;
}

.energyRing {
    position: absolute;
    inset: 0;
    border: 2px solid rgba(255, 235, 59, 0.6);
    border-radius: 50%;
    animation: energyBurst 1s ease-out forwards;
}

/* ==================== TRANSFORMATION RIPPLE ==================== */
.transformationRipple {
    position: absolute;
    width: 200px;
    height: 200px;
    border: 3px solid rgba(218, 112, 214, 0.6);
    border-radius: 50%;
    animation: transformationRipple 2s ease-out forwards;
}

.transformationRipple:nth-child(2) {
    animation-delay: 0.3s;
}

.transformationRipple:nth-child(3) {
    animation-delay: 0.6s;
}

/* ==================== CELEBRATION BURST ==================== */
.celebrationParticle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: var(--celebration-color, #FFD700);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--celebration-color, #FFD700);
    animation: celebrationBurst 1.5s ease-out forwards;
}

.celebrationStar {
    position: absolute;
    width: 12px;
    height: 12px;
    background: linear-gradient(45deg,
            transparent 40%,
            var(--celebration-color, #FFD700) 40%,
            var(--celebration-color, #FFD700) 60%,
            transparent 60%),
        linear-gradient(-45deg,
            transparent 40%,
            var(--celebration-color, #FFD700) 40%,
            var(--celebration-color, #FFD700) 60%,
            transparent 60%);
    animation: celebrationBurst 1.5s ease-out forwards;
}

/* ==================== PARTICLE CONTAINER ==================== */
.particleContainer {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
}

.particleLayer {
    position: absolute;
    inset: 0;
}

.particleLayerFront {
    z-index: 100;
}

.particleLayerMiddle {
    z-index: 50;
}

.particleLayerBack {
    z-index: 10;
}

/* ==================== PERFORMANCE OPTIMIZATIONS ==================== */
.particleCanvas,
.particleContainer,
.particleLayer {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
}

/* Reduce particles on mobile */
@media (max-width: 768px) {

    .sparkleParticle:nth-child(n+15),
    .magicDustParticle:nth-child(n+50),
    .cosmicDustParticle:nth-child(n+75) {
        display: none;
    }
}

@media (max-width: 480px) {

    .sparkleParticle:nth-child(n+10),
    .magicDustParticle:nth-child(n+30),
    .cosmicDustParticle:nth-child(n+50) {
        display: none;
    }
}